---
title: 工作流引擎设计
date: 2022-06-13 19:38:06
hide: true
categories:
  - ['@元定义', 工作流]
tags:
  - 元学习
  - 工作流
---

本文解释工作流引擎的构想。

<!-- more -->

# 1. 核心设计

## 1.1 核心理念

**优雅**，即设计方式和界面都必须优秀可复用，核心结构必须开源，这样才有可能形成强大的社区力量。

**非绑定**，即软件的内容用户是完全拥有的，不会将用户的数据绑定到某个平台上，用户可以在希望的时候将数据移动到其他平台。

## 1.2 基本功能

工作流引擎的必须功能：
- 管理知识
    - 构建合理的知识网络
    - 根据不同的层面管理知识
    - 知识网络可以打包，类似于 hexo
    - 知识可以被部分导出
- 管理任务
    - 根据任务事件的不同类型进行有效划分
    - 可分享不同的任务事件
- 管理收藏
    - 可以快速索引收藏的内容并组织成网络

要点：
1. 开源、开放，技术可复现、分享、高度自定义都是社区形成的必要条件
2. 可分享地发布和构建自己的网络
3. 理念统领，全新的理念推出给不同用户即可

## 1.3 架构

本机的管理器可以使用 B/S 架构制作管理器来管理。部分核心内容可以 RESTful 开放为接口，方便自动化操作和管理所需的内容。

例如：
- `/knowledge/network/query` 查询知识网络中的内容
- `/knowledge/network/path/:name` 获得知识网络中的内容
- `/knowledge/network/list/:name` 以列表的形式列出知识网络中的内容
- `/knowledge/network/graph/` 将知识网络中的内容导出为图

因为开放接口，所以不同的人可以根据自己的需要构建自己的脚本或功能，这样社区随之形成。软件内部的格式完全开放，方便不同的人升级和管理。

为了避免混乱，版本的命名一律是 `domain-0.0.1[a|b|r]` 格式，如果域名不同或者大版本不同，代表这个软件内格式不兼容，否则就是兼容的。

提供服务端版本以方便融入更多端。这样就会有人去构建其他的端来扩大生态。

- 工作流是设计的核心内容
- **AOV 网络** 用于定义任务之间的关系
- 知识作为个体被定义为思维导图
- 知识作为对象被定义为 AOV 网络的一个结点
- 任务不再是简单线性的，而是有层次、自组织且可复用的结构
- 任务被定义为优先级队列，且遵循 **异步模式**
- 思维导图包含知识树和跳线
- 工作空间是元定义的
- 工作空间是包含工作流的集合
- 数据结构是组织实体的核心
- 工作空间被设计为对内自组织，对外 RESTful 开放的架构
- 命令行和自动化是未来可支持部分
- 可视化是必要的，而且要优雅

# 2. 任务和学习

如果需要构建合理的工作流引擎，必须能够管理所学习的内容，并方便用户制定计划。

学习任务有下面两种切面：
1. 基于事件维度的
2. 基于时间维度的

## 1. 任务的本质

任务所具有的维度：
- 复杂性
- 主观意愿性
- 重要性
- 花费时长
- 花费精力

我们认为，所有人都会给自己将要去做的事情划分优先级，这个优先级是主观的，定义为 **主观优先级** 。

注意，主观优先级不是重要性，而是根据人的主观意愿和态度确定的优先级，例如有些人知道完成功课比打球的重要性要高许多，但是他们更愿意先去打球，并且也是这么做的。

对于意志不坚定的人，主观意愿性将占主要部分，而任务的客观重要性占小部分。

## 2. 维度分析

如果学习任务是基于事件维度的，这将使得人像一台不停处理繁杂任务的机器，每天不断地加入新事件，不断弹出旧事件。构建模型是优先级队列，根据人的主观划分给不同的任务确定主观优先级，根据主观优先级逐个处理任务。这么做的好处有：
1. 总是尽可能完成多的事情
2. 可以灵活规划任务的进行，规划所花费的时间也很少
3. 长此以往可能提高信心

而基于时间维度的学习则使人变成计时器，总是等待下一个时刻的任务，时间相对于其他部分则更重要，这么做的好处有：
1. 一定程度抑制人的惰性，事先选择最重要的事情
2. 安排更加具体，不会陷入不知道要做什么的时刻
3. 能够坚持长期的任务，养成习惯

关键点：
- 时间维度的 Todo List
- 时间刻和时间段
- 刻意练习，番茄时间法
- 两个思维导图
    - 一个每周计划
    - 一个每天计划
- 两个视图
    - 项目排期：事件本身的内在逻辑，只能异步等待
    - 线性时间：时间序列的线性逻辑，可用于刻意练习
- 史蒂芬·科维的 “**四象限法则**”


